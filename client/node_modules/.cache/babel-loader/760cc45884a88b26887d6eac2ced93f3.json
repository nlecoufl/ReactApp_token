{"ast":null,"code":"import _slicedToArray from \"/home/nicolas/Documents/ESILV/MONNAIES_NUMERIQUES/erc721-interface-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/nicolas/Documents/ESILV/MONNAIES_NUMERIQUES/erc721-interface-master/client/src/components/views/BuyToken.js\";\nimport React, { useState, useEffect } from \"react\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nexport default function UserToken({\n  web3,\n  accounts,\n  contractInstance\n}) {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        selectedAddress = _useState2[0],\n        setSelectedAddress = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        name = _useState4[0],\n        setName = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        uri = _useState6[0],\n        setUri = _useState6[1];\n\n  useEffect(() => {\n    const getData = async () => {\n      if (accounts.length) {\n        setSelectedAddress(accounts[0]);\n      }\n    };\n\n    if (web3) {\n      getData();\n    }\n  }, [web3, contractInstance, accounts]); // select handler\n\n  const handleSelectChange = event => setSelectedAddress(event.target.value); // textfield 'name' handler\n\n\n  const handleNameChange = event => setName(event.target.value); // textfield 'uri' handler\n\n\n  const handleUriChange = event => setUri(event.target.value); //\n\n\n  const handleClick = async () => {\n    await contractInstance.methods.mint(name, uri).send({\n      from: selectedAddress,\n      value: web3.utils.toWei(\"0.1\", \"ether\"),\n      gas: 900000\n    });\n  };\n\n  const allGood = name.length && uri.length;\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"address\"), React.createElement(Select, {\n    value: selectedAddress,\n    onChange: handleSelectChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, accounts.map(address => React.createElement(MenuItem, {\n    key: address,\n    value: address,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, address)))), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Address \", selectedAddress), React.createElement(\"form\", {\n    autoComplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    required: true,\n    onChange: handleNameChange,\n    value: name,\n    label: \"name\",\n    margin: \"normal\",\n    helperText: \"enter a name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    required: true,\n    onChange: handleUriChange,\n    value: uri,\n    label: \"uri\",\n    margin: \"normal\",\n    helperText: \"enter an uri\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), allGood ? React.createElement(\"h3\", {\n    style: {\n      color: \"red\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"You will pay 0.1 ether man\") : null, React.createElement(Button, {\n    variant: \"contained\",\n    disabled: allGood ? false : true,\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"buy token\"));\n}","map":{"version":3,"sources":["/home/nicolas/Documents/ESILV/MONNAIES_NUMERIQUES/erc721-interface-master/client/src/components/views/BuyToken.js"],"names":["React","useState","useEffect","FormControl","InputLabel","Select","MenuItem","TextField","Button","UserToken","web3","accounts","contractInstance","selectedAddress","setSelectedAddress","name","setName","uri","setUri","getData","length","handleSelectChange","event","target","value","handleNameChange","handleUriChange","handleClick","methods","mint","send","from","utils","toWei","gas","allGood","map","address","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\nexport default function UserToken({ web3, accounts, contractInstance }) {\n  const [selectedAddress, setSelectedAddress] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [uri, setUri] = useState(\"\");\n\n  useEffect(() => {\n    const getData = async () => {\n      if (accounts.length) {\n        setSelectedAddress(accounts[0]);\n      }\n    };\n    if (web3) {\n      getData();\n    }\n  }, [web3, contractInstance, accounts]);\n\n  // select handler\n  const handleSelectChange = event => setSelectedAddress(event.target.value);\n\n  // textfield 'name' handler\n  const handleNameChange = event => setName(event.target.value);\n\n  // textfield 'uri' handler\n  const handleUriChange = event => setUri(event.target.value);\n  //\n\n  const handleClick = async () => {\n    await contractInstance.methods.mint(name, uri).send({\n      from: selectedAddress,\n      value: web3.utils.toWei(\"0.1\", \"ether\"),\n      gas: 900000\n    });\n  };\n\n  const allGood = name.length && uri.length;\n\n  return (\n    <React.Fragment>\n      <FormControl>\n        <InputLabel>address</InputLabel>\n        <Select value={selectedAddress} onChange={handleSelectChange}>\n          {accounts.map(address => (\n            <MenuItem key={address} value={address}>\n              {address}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <h3>Address {selectedAddress}</h3>\n      <form autoComplete=\"off\">\n        <TextField\n          required\n          onChange={handleNameChange}\n          value={name}\n          label=\"name\"\n          margin=\"normal\"\n          helperText=\"enter a name\"\n        />\n        <TextField\n          required\n          onChange={handleUriChange}\n          value={uri}\n          label=\"uri\"\n          margin=\"normal\"\n          helperText=\"enter an uri\"\n        />\n      </form>\n      {allGood ? (\n        <h3 style={{ color: \"red\" }}>You will pay 0.1 ether man</h3>\n      ) : null}\n      <Button\n        variant=\"contained\"\n        disabled={allGood ? false : true}\n        onClick={handleClick}\n      >\n        buy token\n      </Button>\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}