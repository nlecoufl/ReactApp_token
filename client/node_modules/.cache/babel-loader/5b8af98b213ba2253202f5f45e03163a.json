{"ast":null,"code":"import _slicedToArray from \"/home/nicolas/Documents/ESILV/MONNAIES_NUMERIQUES/TD7_Monnaie_Numerique/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/nicolas/Documents/ESILV/MONNAIES_NUMERIQUES/TD7_Monnaie_Numerique/client/src/components/views/Home.js\";\nimport React, { useState, useEffect } from \"react\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nexport default function Home({\n  web3,\n  contractInstance,\n  counter\n}) {\n  const _useState = useState({\n    tokenName: \"\",\n    tokenCounter: 0,\n    chainId: 0,\n    lastBlockNumber: 0\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1]; // watcher for web3/contract state\n\n\n  useEffect(() => {\n    const getData = async () => {\n      // get blockchain data\n      let chainId = await web3.eth.getChainId();\n      let lastBlockNumber = await web3.eth.getBlockNumber(); // get contract data\n\n      let tokenName = await contractInstance.methods.getName().call(); // Update state with results\n\n      setData({\n        tokenName: tokenName,\n        tokenCounter: counter,\n        chainId: chainId,\n        lastBlockNumber: lastBlockNumber\n      });\n    };\n\n    if (web3) {\n      getData();\n    }\n  }, [web3, contractInstance, counter]);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"ERC721 Contract Info\"), React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, Object.keys(data).map(key => React.createElement(ListItem, {\n    key: key,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(ListItemText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, key, \": \", data[key])))));\n}","map":{"version":3,"sources":["/home/nicolas/Documents/ESILV/MONNAIES_NUMERIQUES/TD7_Monnaie_Numerique/client/src/components/views/Home.js"],"names":["React","useState","useEffect","List","ListItem","ListItemText","Home","web3","contractInstance","counter","tokenName","tokenCounter","chainId","lastBlockNumber","data","setData","getData","eth","getChainId","getBlockNumber","methods","getName","call","Object","keys","map","key"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AAEA,eAAe,SAASC,IAAT,CAAc;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,gBAAR;AAA0BC,EAAAA;AAA1B,CAAd,EAAmD;AAAA,oBACxCR,QAAQ,CAAC;AAC/BS,IAAAA,SAAS,EAAE,EADoB;AAE/BC,IAAAA,YAAY,EAAE,CAFiB;AAG/BC,IAAAA,OAAO,EAAE,CAHsB;AAI/BC,IAAAA,eAAe,EAAE;AAJc,GAAD,CADgC;AAAA;AAAA,QACzDC,IADyD;AAAA,QACnDC,OADmD,kBAQhE;;;AACAb,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMc,OAAO,GAAG,YAAY;AAC1B;AACA,UAAIJ,OAAO,GAAG,MAAML,IAAI,CAACU,GAAL,CAASC,UAAT,EAApB;AACA,UAAIL,eAAe,GAAG,MAAMN,IAAI,CAACU,GAAL,CAASE,cAAT,EAA5B,CAH0B,CAI1B;;AACA,UAAIT,SAAS,GAAG,MAAMF,gBAAgB,CAACY,OAAjB,CAAyBC,OAAzB,GAAmCC,IAAnC,EAAtB,CAL0B,CAM1B;;AACAP,MAAAA,OAAO,CAAC;AACNL,QAAAA,SAAS,EAAEA,SADL;AAENC,QAAAA,YAAY,EAAEF,OAFR;AAGNG,QAAAA,OAAO,EAAEA,OAHH;AAINC,QAAAA,eAAe,EAAEA;AAJX,OAAD,CAAP;AAMD,KAbD;;AAeA,QAAIN,IAAJ,EAAU;AACRS,MAAAA,OAAO;AACR;AACF,GAnBQ,EAmBN,CAACT,IAAD,EAAOC,gBAAP,EAAyBC,OAAzB,CAnBM,CAAT;AAqBA,SACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGc,MAAM,CAACC,IAAP,CAAYV,IAAZ,EAAkBW,GAAlB,CAAsBC,GAAG,IACxB,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,GADH,QACUZ,IAAI,CAACY,GAAD,CADd,CADF,CADD,CADH,CAFF,CADF;AAcD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nexport default function Home({ web3, contractInstance, counter }) {\n  const [data, setData] = useState({\n    tokenName: \"\",\n    tokenCounter: 0,\n    chainId: 0,\n    lastBlockNumber: 0\n  });\n\n  // watcher for web3/contract state\n  useEffect(() => {\n    const getData = async () => {\n      // get blockchain data\n      let chainId = await web3.eth.getChainId();\n      let lastBlockNumber = await web3.eth.getBlockNumber();\n      // get contract data\n      let tokenName = await contractInstance.methods.getName().call();\n      // Update state with results\n      setData({\n        tokenName: tokenName,\n        tokenCounter: counter,\n        chainId: chainId,\n        lastBlockNumber: lastBlockNumber\n      });\n    };\n\n    if (web3) {\n      getData();\n    }\n  }, [web3, contractInstance, counter]);\n\n  return (\n    <React.Fragment>\n      <h1>ERC721 Contract Info</h1>\n      <List>\n        {Object.keys(data).map(key => (\n          <ListItem key={key}>\n            <ListItemText>\n              {key}: {data[key]}\n            </ListItemText>\n          </ListItem>\n        ))}\n      </List>\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}